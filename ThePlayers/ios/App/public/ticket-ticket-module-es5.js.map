{"version":3,"sources":["webpack:///src/app/ticket/ticket.page.scss","webpack:///src/app/ticket/ticket.page.html","webpack:///src/app/ticket/ticket-routing.module.ts","webpack:///src/app/ticket/ticket.module.ts","webpack:///src/app/ticket/ticket.page.ts"],"names":["routes","path","component","TicketPageRoutingModule","imports","forChild","exports","TicketPageModule","declarations","TicketPage","http","router","env","attachments","value","attachmentsList","forEach","element","push","dataToPost","subject","description","category","post","baseUri","subscribe","resp","navigateByUrl","length","i","splice","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,uBAAuB;AAAA;AAAA,O;;AAAvBA,6BAAuB,6DAJnC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAImC,GAAvBH,uBAAuB,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCGAI,gBAAgB;AAAA;AAAA,O;;AAAhBA,sBAAgB,6DAT5B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,8EAJO,CADD;AAORI,oBAAY,EAAE,CAAC,uDAAD;AAPN,OAAT,CAS4B,GAAhBD,gBAAgB,CAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCTAE,UAAU;AACrB,4BACUC,IADV,EAEUC,MAFV,EAGSC,GAHT,EAGuB;AAAA;;AAFb,eAAAF,IAAA,GAAAA,IAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACD,eAAAC,GAAA,GAAAA,GAAA;AAGT,eAAAC,WAAA,GAAmB,CAAC;AAAEC,iBAAK,EAAE;AAAT,WAAD,CAAnB;AAFI;;AALiB;AAAA;AAAA,qCAWV,CAAE;AAXQ;AAAA;AAAA,yCAaN;AAAA;;AACb,gBAAIC,eAAe,GAAG,EAAtB;;AACA,gBAAI,KAAKF,WAAT,EAAsB;AACpB,mBAAKA,WAAL,CAAiBG,OAAjB,CAAyB,UAACC,OAAD,EAAa;AACpC,oBAAIA,OAAO,CAACH,KAAZ,EAAmB;AACjBC,iCAAe,CAACG,IAAhB,CAAqBD,OAAO,CAACH,KAA7B;AACD;AACF,eAJD;AAKD;;AACD,gBAAMK,UAAU,GAAG;AACjBC,qBAAO,EAAE,KAAKA,OADG;AAEjBC,yBAAW,EAAE,KAAKA,WAFD;AAGjBC,sBAAQ,EAAE,KAAKA,QAHE;AAIjBT,yBAAW,EAAEE;AAJI,aAAnB;AAMA,iBAAKL,IAAL,CACGa,IADH,WACW,KAAKX,GAAL,CAASY,OADpB,eACuCL,UADvC,EAEGM,SAFH,CAEa,UAACC,IAAD,EAAU;AACnB,mBAAI,CAACf,MAAL,CAAYgB,aAAZ,CAA0B,cAA1B;AACD,aAJH;AAKD;AAjCoB;AAAA;AAAA,0CAmCL;AACd,iBAAKd,WAAL,CAAiBe,MAAjB,GAA0B,CAA1B,GAA8B,KAAKf,WAAL,CAAiBK,IAAjB,CAAsB;AAAEJ,mBAAK,EAAE;AAAT,aAAtB,CAA9B,GAAqE,EAArE;AACD;AArCoB;AAAA;AAAA,2CAsCJe,CAtCI,EAsCD;AAClBA,aAAC,GAAG,KAAKhB,WAAL,CAAiBiB,MAAjB,CAAwBD,CAAxB,EAA2B,CAA3B,CAAH,GAAmC,EAApC;AACD;AAxCoB;;AAAA;AAAA,S;;;;gBAVd;;gBAEA;;gBACA;;;;AAOIpB,gBAAU,6DALtB,gEAAU;AACTsB,gBAAQ,EAAE,YADD;AAETC,gBAAQ,EAAR,oEAFS;;AAAA,OAAV,CAKsB,GAAVvB,UAAU,CAAV","file":"ticket-ticket-module-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RpY2tldC90aWNrZXQucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Nuovo ticket</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <form style=\\\"padding: 10px\\\" (ngSubmit)=\\\"createTicket()\\\">\\r\\n    <ion-item color=\\\"white\\\">\\r\\n      <ion-label><i class=\\\"fas fa-pen\\\"></i></ion-label>\\r\\n      <ion-input\\r\\n        type=\\\"text\\\"\\r\\n        [(ngModel)]=\\\"subject\\\"\\r\\n        name=\\\"subject\\\"\\r\\n        placeholder=\\\"Oggetto...\\\"\\r\\n      ></ion-input>\\r\\n    </ion-item>\\r\\n    <br />\\r\\n    <ion-item color=\\\"white\\\">\\r\\n      <ion-label><i class=\\\"fas fa-align-left\\\"></i></ion-label>\\r\\n      <ion-textarea\\r\\n        type=\\\"text\\\"\\r\\n        rows=\\\"4\\\"\\r\\n        [(ngModel)]=\\\"description\\\"\\r\\n        name=\\\"description\\\"\\r\\n        placeholder=\\\"Descrizione...\\\"\\r\\n      ></ion-textarea>\\r\\n    </ion-item>\\r\\n    <br />\\r\\n    <ion-select\\r\\n      color=\\\"white\\\"\\r\\n      type=\\\"text\\\"\\r\\n      [(ngModel)]=\\\"category\\\"\\r\\n      name=\\\"category\\\"\\r\\n      placeholder=\\\"Categoria...\\\"\\r\\n      style=\\\"width: 100%; min-height: 50px\\\"\\r\\n    >\\r\\n      <ion-select-option value=\\\"GENERAL_INQUIRY\\\">Generale</ion-select-option>\\r\\n      <ion-select-option value=\\\"PAYMENT\\\">Pagamento/Ordine</ion-select-option>\\r\\n    </ion-select>\\r\\n    <br />\\r\\n    <br />\\r\\n    <ion-text>Allegati</ion-text>\\r\\n    <ion-grid>\\r\\n      <ion-row\\r\\n        size=\\\"12\\\"\\r\\n        *ngFor=\\\"let attachment of attachments; let i = index\\\"\\r\\n        style=\\\"margin-bottom: 5px\\\"\\r\\n      >\\r\\n        <ion-col size=\\\"8\\\">\\r\\n          <ion-item color=\\\"white\\\">\\r\\n            <ion-label><i class=\\\"fas fa-paperclip\\\"></i></ion-label>\\r\\n            <ion-input\\r\\n              type=\\\"url\\\"\\r\\n              placeholder=\\\"Link allegato {{i+1}}... \\\"\\r\\n              [(ngModel)]=\\\"attachments[i].value\\\"\\r\\n              name=\\\"{{i}}\\\"\\r\\n            ></ion-input>\\r\\n          </ion-item>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"2\\\">\\r\\n          <ion-button\\r\\n            [disabled]=\\\"attachments.length >= 5\\\"\\r\\n            (click)=\\\"addAttachment()\\\"\\r\\n            ><i class=\\\"fas fa-plus\\\"></i\\r\\n          ></ion-button>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"2\\\">\\r\\n          <ion-button [disabled]=\\\"i == 0\\\" (click)=\\\"removeAttachment(i)\\\"\\r\\n            ><i class=\\\"fas fa-times\\\"></i\\r\\n          ></ion-button>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n    <ion-button color=\\\"success\\\" type=\\\"submit\\\">Crea Ticket</ion-button>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TicketPage } from './ticket.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TicketPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TicketPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TicketPageRoutingModule } from './ticket-routing.module';\n\nimport { TicketPage } from './ticket.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TicketPageRoutingModule\n  ],\n  declarations: [TicketPage]\n})\nexport class TicketPageModule {}\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { GlobalEnv } from \"../env\";\r\n\r\n@Component({\r\n  selector: \"app-ticket\",\r\n  templateUrl: \"./ticket.page.html\",\r\n  styleUrls: [\"./ticket.page.scss\"],\r\n})\r\nexport class TicketPage implements OnInit {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    public env: GlobalEnv\r\n  ) {}\r\n\r\n  attachments: any = [{ value: \"\" }];\r\n  category: any;\r\n  description: any;\r\n  subject: any;\r\n  ngOnInit() {}\r\n\r\n  createTicket() {\r\n    let attachmentsList = [];\r\n    if (this.attachments) {\r\n      this.attachments.forEach((element) => {\r\n        if (element.value) {\r\n          attachmentsList.push(element.value);\r\n        }\r\n      });\r\n    }\r\n    const dataToPost = {\r\n      subject: this.subject,\r\n      description: this.description,\r\n      category: this.category,\r\n      attachments: attachmentsList,\r\n    };\r\n    this.http\r\n      .post(`${this.env.baseUri}/tickets`, dataToPost)\r\n      .subscribe((resp) => {\r\n        this.router.navigateByUrl(\"user-tickets\");\r\n      });\r\n  }\r\n\r\n  addAttachment() {\r\n    this.attachments.length < 5 ? this.attachments.push({ value: \"\" }) : \"\";\r\n  }\r\n  removeAttachment(i) {\r\n    i ? this.attachments.splice(i, 1) : \"\";\r\n  }\r\n}\r\n"]}