{"version":3,"sources":["webpack:///src/app/game-detail/game-detail.page.scss","webpack:///src/app/game-detail/game-detail-routing.module.ts","webpack:///src/app/game-detail/game-detail.page.ts","webpack:///src/app/game-detail/game-detail.page.html","webpack:///src/app/game-detail/game-detail.module.ts"],"names":["routes","path","component","GameDetailPageRoutingModule","imports","forChild","exports","Storage","GameDetailPage","activatedRoute","router","authService","http","env","loadingController","userCoins","create","message","loading","present","getToken","then","isLoggedIn","get","key","data","getTournaments","value","navigateByUrl","queryParams","subscribe","params","idGame","gameName","event","target","complete","idTournament","tournamentName","navigate","token","presentLoading","baseUri","response","tournamentsList","length","errorText","dismiss","error","window","alert","selector","template","GameDetailPageModule","declarations"],"mappings":"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","file":"game-detail-game-detail-module-es5.js","sourcesContent":["export default \"#container {\\n  left: 0;\\n  right: 0;\\n  padding: 10px;\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n\\nion-row {\\n  margin-bottom: 5px;\\n}\\n\\n.titolo {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  text-align: center;\\n  font-size: 1.6em;\\n}\\n\\n.container-info-game {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.tournament-detail {\\n  padding: 3px 5px;\\n  margin-top: 0px;\\n  width: 50%;\\n  font-size: 0.9em;\\n  border-radius: 0px 5px 5px 0px;\\n}\\n\\n.tournament-detail.ladder {\\n  background: #121296bf;\\n}\\n\\n.tournament-detail.tournament {\\n  width: 80%;\\n  background: #961212bf;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2FtZS1kZXRhaWwvZ2FtZS1kZXRhaWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksT0FBQTtFQUNBLFFBQUE7RUFDQSxhQUFBO0FBQ0o7O0FBRUU7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFFRTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUVBLGNBQUE7RUFFQSxTQUFBO0FBREo7O0FBSUU7RUFDRSxxQkFBQTtBQURKOztBQUlFO0VBQ0Usa0JBQUE7QUFESjs7QUFJRTtFQUNFLFdBQUE7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBRE47O0FBSUU7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBREo7O0FBSUE7RUFDRSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSw4QkFBQTtBQURGOztBQUdFO0VBQ0UscUJBQUE7QUFESjs7QUFHRTtFQUNFLFVBQUE7RUFDQSxxQkFBQTtBQURKIiwiZmlsZSI6InNyYy9hcHAvZ2FtZS1kZXRhaWwvZ2FtZS1kZXRhaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICAjY29udGFpbmVyIHN0cm9uZyB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjZweDtcclxuICB9XHJcbiAgXHJcbiAgI2NvbnRhaW5lciBwIHtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xyXG4gIFxyXG4gICAgY29sb3I6ICM4YzhjOGM7XHJcbiAgXHJcbiAgICBtYXJnaW46IDA7XHJcbiAgfVxyXG4gIFxyXG4gICNjb250YWluZXIgYSB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1yb3d7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC50aXRvbG97XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBmb250LXNpemU6IDEuNmVtO1xyXG4gIH1cclxuICBcclxuICAuY29udGFpbmVyLWluZm8tZ2FtZXtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gIH1cclxuXHJcbi50b3VybmFtZW50LWRldGFpbHtcclxuICBwYWRkaW5nOiAzcHggNXB4O1xyXG4gIG1hcmdpbi10b3A6IDBweDtcclxuICB3aWR0aDogNTAlO1xyXG4gIGZvbnQtc2l6ZTogMC45ZW07XHJcbiAgYm9yZGVyLXJhZGl1czogMHB4IDVweCA1cHggMHB4O1xyXG5cclxuICAmLmxhZGRlcntcclxuICAgIGJhY2tncm91bmQ6ICMxMjEyOTZiZjtcclxuICB9XHJcbiAgJi50b3VybmFtZW50e1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIGJhY2tncm91bmQ6ICM5NjEyMTJiZjtcclxuICB9XHJcbn0iXX0= */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { GameDetailPage } from './game-detail.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GameDetailPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class GameDetailPageRoutingModule {}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { AuthService } from \"src/app/services/auth.service\";\r\nimport { Plugins } from \"@capacitor/core\";\r\nconst { Storage } = Plugins;\r\nimport { GlobalEnv } from \"../env\";\r\nimport { LoadingController } from \"@ionic/angular\";\r\n\r\n@Component({\r\n  selector: \"app-game-detail\",\r\n  templateUrl: \"./game-detail.page.html\",\r\n  styleUrls: [\"./game-detail.page.scss\"],\r\n})\r\nexport class GameDetailPage implements OnInit {\r\n  idGame: String;\r\n  gameName: String;\r\n  tournamentsList: any;\r\n\r\n  errorText: string;\r\n  loading: any;\r\n  userCoins: number = 0;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private authService: AuthService,\r\n    private http: HttpClient,\r\n    public env: GlobalEnv,\r\n    public loadingController: LoadingController\r\n  ) {}\r\n  async presentLoading() {\r\n    // Prepare a loading controller\r\n    this.loading = await this.loadingController.create({\r\n      message: \"Caricamento dei giochi in corso...\",\r\n    });\r\n    // Present the loading controller\r\n    await this.loading.present();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.authService.getToken().then(() => {\r\n      if (this.authService.isLoggedIn) {\r\n        Storage.get({ key: \"token\" }).then((data) => {\r\n          this.getTournaments(data.value);\r\n          //this.router.navigateByUrl(\"/game-detail\");\r\n        });\r\n      } else {\r\n        this.router.navigateByUrl(\"/login\");\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.queryParams.subscribe((params) => {\r\n      this.idGame = params[\"idGame\"];\r\n      this.gameName = params[\"gameName\"];\r\n      if (!this.idGame) {\r\n        this.router.navigateByUrl(\"/home\");\r\n      }\r\n    });\r\n  }\r\n\r\n  doRefresh(event) {\r\n    this.authService.getToken().then(() => {\r\n      if (this.authService.isLoggedIn) {\r\n        Storage.get({ key: \"token\" }).then((data) => {\r\n          this.getTournaments(data.value);\r\n          event.target.complete();\r\n        });\r\n      } else {\r\n        this.router.navigateByUrl(\"/login\");\r\n      }\r\n    });\r\n  }\r\n\r\n  async DetailTournament(idTournament, tournamentName) {\r\n    this.router.navigate([\"/tournament-detail\"], {\r\n      queryParams: {\r\n        idTournament: idTournament,\r\n        tournamentName: tournamentName,\r\n      },\r\n    });\r\n  }\r\n\r\n  getTournaments(token) {\r\n    this.presentLoading();\r\n    this.http\r\n      .get(`${this.env.baseUri}/tournaments/?gameId=${this.idGame}`)\r\n      .subscribe(\r\n        (response) => {\r\n          this.tournamentsList = response;\r\n          if (this.tournamentsList.length == 0) {\r\n            this.errorText = \"Non ci sono tornei per questo gioco.\";\r\n          } else {\r\n            this.errorText = null;\r\n          }\r\n          this.loading.dismiss();\r\n        },\r\n        (error) => {\r\n          this.loading.dismiss();\r\n          window.alert(\"errore tornei\");\r\n        }\r\n      );\r\n  }\r\n}\r\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n      <ion-badge\\r\\n        color=\\\"danger\\\"\\r\\n        class=\\\"badge-notifiche\\\"\\r\\n        *ngIf=\\\"this.env.notificationsCounter + this.env.ticketUpdates\\\"\\r\\n      >\\r\\n        {{this.env.notificationsCounter + this.env.ticketUpdates}}</ion-badge\\r\\n      >\\r\\n    </ion-buttons>\\r\\n    <ion-title> {{this.gameName}} </ion-title>\\r\\n    <ion-buttons style=\\\"padding-right: 20px\\\" slot=\\\"end\\\">\\r\\n      <ion-text>{{this.userCoins}}</ion-text>&nbsp;&nbsp;<i\\r\\n        class=\\\"fas fa-coins\\\"\\r\\n        color=\\\"orange\\\"\\r\\n      ></i>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <ion-header collapse=\\\"condense\\\">\\r\\n    <ion-toolbar>\\r\\n      <ion-title size=\\\"large\\\">Tornei</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n\\r\\n  <div id=\\\"container\\\">\\r\\n    <strong style=\\\"margin-left: 15px\\\">Tornei</strong>\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col\\r\\n          *ngFor=\\\"let tournament of tournamentsList\\\"\\r\\n          size=\\\"6\\\"\\r\\n          (click)=\\\"DetailTournament(tournament._id, tournament.name)\\\"\\r\\n        >\\r\\n          <ion-card\\r\\n            color=\\\"primary\\\"\\r\\n            class=\\\"tournament-card\\\"\\r\\n            style=\\\"background-image: url({{tournament.imgUrl}});\\\"\\r\\n          >\\r\\n            <div\\r\\n              [class]=\\\"tournament.type === 'TOURNAMENT' ? 'tournament-detail tournament' : 'tournament-detail ladder'\\\"\\r\\n            >\\r\\n              {{tournament.type}}\\r\\n            </div>\\r\\n            <div min-height=\\\"40px\\\"></div>\\r\\n            <div class=\\\"tournament-info\\\">\\r\\n              <ion-card-title>{{tournament.name}}</ion-card-title>\\r\\n              <ion-card-subtitle\\r\\n                ><i class=\\\"fab fa-playstation\\\"></i>&nbsp;&nbsp;<i\\r\\n                  class=\\\"fab fa-xbox\\\"\\r\\n                ></i>\\r\\n              </ion-card-subtitle>\\r\\n            </div>\\r\\n          </ion-card>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GameDetailPageRoutingModule } from './game-detail-routing.module';\r\n\r\nimport { GameDetailPage } from './game-detail.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    GameDetailPageRoutingModule\r\n  ],\r\n  declarations: [GameDetailPage]\r\n})\r\nexport class GameDetailPageModule {}\r\n"]}