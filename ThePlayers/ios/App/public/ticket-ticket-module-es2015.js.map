{"version":3,"sources":["./src/app/ticket/ticket.page.scss","./src/app/ticket/ticket.page.html","./src/app/ticket/ticket-routing.module.ts","./src/app/ticket/ticket.module.ts","./src/app/ticket/ticket.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,6GAA8C,uIAAuI,E;;;;;;;;;;;;ACApM;AAAe,krCAAmnC,sYAAsY,4TAA4T,KAAK,uFAAuF,GAAG,+qBAA+qB,E;;;;;;;;;;;;;;;;;;;ACAziF;AACc;AAEZ;AAE3C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uDAAU;KACtB;CACF,CAAC;IAMW,uBAAuB,SAAvB,uBAAuB;CAAG;AAA1B,uBAAuB;IAJnC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBK;AACM;AACF;AAEA;AAEqB;AAEvB;IAW9B,gBAAgB,SAAhB,gBAAgB;CAAG;AAAnB,gBAAgB;IAT5B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,8EAAuB;SACxB;QACD,YAAY,EAAE,CAAC,uDAAU,CAAC;KAC3B,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACnBqB;AACA;AACT;AACN;IAOtB,UAAU,SAAV,UAAU;IACrB,YACU,IAAgB,EAChB,MAAc,EACf,GAAc;QAFb,SAAI,GAAJ,IAAI,CAAY;QAChB,WAAM,GAAN,MAAM,CAAQ;QACf,QAAG,GAAH,GAAG,CAAW;QAGvB,gBAAW,GAAQ,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;IAFhC,CAAC;IAMJ,QAAQ,KAAI,CAAC;IAEb,YAAY;QACV,IAAI,eAAe,GAAG,EAAE,CAAC;QACzB,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBACnC,IAAI,OAAO,CAAC,KAAK,EAAE;oBACjB,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;iBACrC;YACH,CAAC,CAAC,CAAC;SACJ;QACD,MAAM,UAAU,GAAG;YACjB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,WAAW,EAAE,eAAe;SAC7B,CAAC;QACF,IAAI,CAAC,IAAI;aACN,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,UAAU,EAAE,UAAU,CAAC;aAC/C,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAClB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;IACP,CAAC;IAED,aAAa;QACX,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1E,CAAC;IACD,gBAAgB,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACzC,CAAC;CACF;;YAnDQ,+DAAU;YAEV,sDAAM;YACN,8CAAS;;AAOL,UAAU;IALtB,+DAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,8EAAiC;;KAElC,CAAC;GACW,UAAU,CAyCtB;AAzCsB","file":"ticket-ticket-module-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RpY2tldC90aWNrZXQucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Nuovo ticket</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <form style=\\\"padding: 10px\\\" (ngSubmit)=\\\"createTicket()\\\">\\r\\n    <ion-item color=\\\"white\\\">\\r\\n      <ion-label><i class=\\\"fas fa-pen\\\"></i></ion-label>\\r\\n      <ion-input\\r\\n        type=\\\"text\\\"\\r\\n        [(ngModel)]=\\\"subject\\\"\\r\\n        name=\\\"subject\\\"\\r\\n        placeholder=\\\"Oggetto...\\\"\\r\\n      ></ion-input>\\r\\n    </ion-item>\\r\\n    <br />\\r\\n    <ion-item color=\\\"white\\\">\\r\\n      <ion-label><i class=\\\"fas fa-align-left\\\"></i></ion-label>\\r\\n      <ion-textarea\\r\\n        type=\\\"text\\\"\\r\\n        rows=\\\"4\\\"\\r\\n        [(ngModel)]=\\\"description\\\"\\r\\n        name=\\\"description\\\"\\r\\n        placeholder=\\\"Descrizione...\\\"\\r\\n      ></ion-textarea>\\r\\n    </ion-item>\\r\\n    <br />\\r\\n    <ion-select\\r\\n      color=\\\"white\\\"\\r\\n      type=\\\"text\\\"\\r\\n      [(ngModel)]=\\\"category\\\"\\r\\n      name=\\\"category\\\"\\r\\n      placeholder=\\\"Categoria...\\\"\\r\\n      style=\\\"width: 100%; min-height: 50px\\\"\\r\\n    >\\r\\n      <ion-select-option value=\\\"GENERAL_INQUIRY\\\">Generale</ion-select-option>\\r\\n      <ion-select-option value=\\\"PAYMENT\\\">Pagamento/Ordine</ion-select-option>\\r\\n    </ion-select>\\r\\n    <br />\\r\\n    <br />\\r\\n    <ion-text>Allegati</ion-text>\\r\\n    <ion-grid>\\r\\n      <ion-row\\r\\n        size=\\\"12\\\"\\r\\n        *ngFor=\\\"let attachment of attachments; let i = index\\\"\\r\\n        style=\\\"margin-bottom: 5px\\\"\\r\\n      >\\r\\n        <ion-col size=\\\"8\\\">\\r\\n          <ion-item color=\\\"white\\\">\\r\\n            <ion-label><i class=\\\"fas fa-paperclip\\\"></i></ion-label>\\r\\n            <ion-input\\r\\n              type=\\\"url\\\"\\r\\n              placeholder=\\\"Link allegato {{i+1}}... \\\"\\r\\n              [(ngModel)]=\\\"attachments[i].value\\\"\\r\\n              name=\\\"{{i}}\\\"\\r\\n            ></ion-input>\\r\\n          </ion-item>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"2\\\">\\r\\n          <ion-button\\r\\n            [disabled]=\\\"attachments.length >= 5\\\"\\r\\n            (click)=\\\"addAttachment()\\\"\\r\\n            ><i class=\\\"fas fa-plus\\\"></i\\r\\n          ></ion-button>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"2\\\">\\r\\n          <ion-button [disabled]=\\\"i == 0\\\" (click)=\\\"removeAttachment(i)\\\"\\r\\n            ><i class=\\\"fas fa-times\\\"></i\\r\\n          ></ion-button>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n    <ion-button color=\\\"success\\\" type=\\\"submit\\\">Crea Ticket</ion-button>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TicketPage } from './ticket.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TicketPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TicketPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TicketPageRoutingModule } from './ticket-routing.module';\n\nimport { TicketPage } from './ticket.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TicketPageRoutingModule\n  ],\n  declarations: [TicketPage]\n})\nexport class TicketPageModule {}\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { GlobalEnv } from \"../env\";\r\n\r\n@Component({\r\n  selector: \"app-ticket\",\r\n  templateUrl: \"./ticket.page.html\",\r\n  styleUrls: [\"./ticket.page.scss\"],\r\n})\r\nexport class TicketPage implements OnInit {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    public env: GlobalEnv\r\n  ) {}\r\n\r\n  attachments: any = [{ value: \"\" }];\r\n  category: any;\r\n  description: any;\r\n  subject: any;\r\n  ngOnInit() {}\r\n\r\n  createTicket() {\r\n    let attachmentsList = [];\r\n    if (this.attachments) {\r\n      this.attachments.forEach((element) => {\r\n        if (element.value) {\r\n          attachmentsList.push(element.value);\r\n        }\r\n      });\r\n    }\r\n    const dataToPost = {\r\n      subject: this.subject,\r\n      description: this.description,\r\n      category: this.category,\r\n      attachments: attachmentsList,\r\n    };\r\n    this.http\r\n      .post(`${this.env.baseUri}/tickets`, dataToPost)\r\n      .subscribe((resp) => {\r\n        this.router.navigateByUrl(\"user-tickets\");\r\n      });\r\n  }\r\n\r\n  addAttachment() {\r\n    this.attachments.length < 5 ? this.attachments.push({ value: \"\" }) : \"\";\r\n  }\r\n  removeAttachment(i) {\r\n    i ? this.attachments.splice(i, 1) : \"\";\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}