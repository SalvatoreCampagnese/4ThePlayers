{"version":3,"sources":["./src/app/signup/signup.page.html","./src/app/signup/signup-routing.module.ts","./src/app/signup/signup.module.ts","./src/app/signup/signup.page.scss","./src/app/signup/signup.page.ts"],"names":[],"mappings":"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","file":"signup-signup-module-es2015.js","sourcesContent":["export default \"<ion-content id=\\\"backgroundimage\\\">\\r\\n\\r\\n  <ion-card-content>\\r\\n    <ion-img class=\\\"logo\\\" src=\\\"../../assets/img/logo.png\\\"></ion-img>\\r\\n    <form (ngSubmit)=\\\"SignupForm()\\\">\\r\\n      <ion-item color=\\\"white\\\">\\r\\n        <ion-label><i class=\\\"fas fa-user\\\"></i></ion-label>\\r\\n        <ion-input type=\\\"text\\\" [(ngModel)]=\\\"username\\\" name=\\\"username\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item color=\\\"white\\\">\\r\\n        <ion-label><i class=\\\"fas fa-at\\\"></i></ion-label>\\r\\n        <ion-input type=\\\"email\\\" [(ngModel)]=\\\"email\\\" name=\\\"email\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item color=\\\"white\\\">\\r\\n        <ion-label><i class=\\\"fas fa-key\\\"></i></ion-label>\\r\\n        <ion-input type=\\\"password\\\" [(ngModel)]=\\\"password\\\" name=\\\"password\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-button class=\\\"submit-button\\\" type=\\\"submit\\\" block>Registrati</ion-button>\\r\\n      <ion-card-subtitle>Gi&agrave; registrato?</ion-card-subtitle>\\r\\n      <ion-card-title (click)=\\\"LoginPage()\\\">ACCEDI!</ion-card-title>\\r\\n    </form>\\r\\n  </ion-card-content>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignupPage } from './signup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupPageRoutingModule } from './signup-routing.module';\n\nimport { SignupPage } from './signup.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SignupPageRoutingModule\n  ],\n  declarations: [SignupPage]\n})\nexport class SignupPageModule {}\n","export default \"ion-content {\\n  min-height: 100vh;\\n  min-width: 100vw;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-direction: column;\\n}\\nion-content#backgroundimage {\\n  --background: url('login-bg.jpg') 20% 30%;\\n}\\n.logo {\\n  margin-bottom: 5vh;\\n  max-width: 80vw;\\n}\\nion-card-content {\\n  transform: translateY(30%);\\n}\\nform, ion-card-content {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\nform ion-card-subtitle, ion-card-content ion-card-subtitle {\\n  color: white;\\n}\\nform ion-card-title, ion-card-content ion-card-title {\\n  color: white;\\n  font-weight: bold;\\n}\\nion-item {\\n  width: 94vw !important;\\n  border-radius: 5px;\\n  margin-bottom: 20px;\\n}\\nion-item:last-child {\\n  margin-bottom: 0px;\\n}\\n.submit-button {\\n  min-width: 50vw;\\n  height: 45px;\\n  margin-top: 30px;\\n}\\n.align-bottom {\\n  width: 100vw;\\n  position: fixed;\\n  bottom: 10vh !important;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2lnbnVwL3NpZ251cC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDSSxpQkFBQTtFQUNBLGdCQUFBO0VBRUEsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtBQURKO0FBR0k7RUFDSSx5Q0FBQTtBQURSO0FBSUE7RUFDSSxrQkFBQTtFQUNBLGVBQUE7QUFESjtBQUlBO0VBQ0ksMEJBQUE7QUFESjtBQUlBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQURKO0FBRUk7RUFDSSxZQUFBO0FBQVI7QUFFSTtFQUNJLFlBQUE7RUFDQSxpQkFBQTtBQUFSO0FBSUE7RUFDSSxzQkFBQTtFQUNBLGtCQUFBO0VBS0EsbUJBQUE7QUFMSjtBQUVJO0VBQ0ksa0JBQUE7QUFBUjtBQUtBO0VBQ0ksZUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQUZKO0FBS0E7RUFDSSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHVCQUFBO0VBRUEsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUhKIiwiZmlsZSI6InNyYy9hcHAvc2lnbnVwL3NpZ251cC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW9uLWNvbnRlbnQge1xyXG4gICAgbWluLWhlaWdodDogMTAwdmg7XHJcbiAgICBtaW4td2lkdGg6IDEwMHZ3O1xyXG5cclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgICYjYmFja2dyb3VuZGltYWdle1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogdXJsKCcuLi8uLi9hc3NldHMvaW1nL2xvZ2luLWJnLmpwZycpIDIwJSAzMCU7XHJcbiAgICB9XHJcbn1cclxuLmxvZ297XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1dmg7XHJcbiAgICBtYXgtd2lkdGg6IDgwdnc7XHJcbn1cclxuXHJcbmlvbi1jYXJkLWNvbnRlbnR7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMzAlKTtcclxufVxyXG5cclxuZm9ybSwgaW9uLWNhcmQtY29udGVudHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgaW9uLWNhcmQtc3VidGl0bGV7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgfVxyXG4gICAgaW9uLWNhcmQtdGl0bGV7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgfVxyXG59XHJcblxyXG5pb24taXRlbXtcclxuICAgIHdpZHRoOiA5NHZ3ICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcblxyXG4gICAgJjpsYXN0LWNoaWxke1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDBweDtcclxuICAgIH1cclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuXHJcbi5zdWJtaXQtYnV0dG9ue1xyXG4gICAgbWluLXdpZHRoOiA1MHZ3O1xyXG4gICAgaGVpZ2h0OiA0NXB4O1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxufVxyXG5cclxuLmFsaWduLWJvdHRvbXtcclxuICAgIHdpZHRoOiAxMDB2dztcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMTB2aCAhaW1wb3J0YW50O1xyXG4gICAgXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufSJdfQ== */\";","import { Component, OnInit } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ModalController } from \"@ionic/angular\";\r\nimport { ModalRegistrationPage } from \"../modal-registration/modal-registration.page\";\r\nimport { AuthService } from \"src/app/services/auth.service\";\r\nimport { Plugins } from \"@capacitor/core\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nconst { Storage } = Plugins;\r\nimport { GlobalEnv } from \"../env\";\r\n\r\n@Component({\r\n  selector: \"app-signup\",\r\n  templateUrl: \"./signup.page.html\",\r\n  styleUrls: [\"./signup.page.scss\"],\r\n})\r\nexport class SignupPage implements OnInit {\r\n  // Inizializzo le variabili da utilizzare per la registrazione\r\n  username: String;\r\n  email: String;\r\n  password: String;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private modalController: ModalController,\r\n    private authService: AuthService,\r\n    private http: HttpClient,\r\n    private env: GlobalEnv\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  SignupForm() {\r\n    this.authService\r\n      .register(this.username, this.email, this.password)\r\n      .subscribe(\r\n        (data) => {\r\n          if (data && data[\"token\"]) {\r\n            Storage.set({\r\n              key: \"token\",\r\n              value: data[\"token\"],\r\n            }).then(() => {\r\n              this.http.get(`${this.env.baseUri}/auth/email`).subscribe(\r\n                (data) => {\r\n                  Storage.remove({ key: \"token\" });\r\n                  this.showCreateTeamModal();\r\n                },\r\n                (error) => {\r\n                  window.alert(\r\n                    \"Errore sendEmail\" +\r\n                      JSON.stringify(error.error.errors[0].msg)\r\n                  );\r\n                }\r\n              );\r\n            });\r\n          }\r\n        },\r\n        (error) => {\r\n          window.alert(\r\n            \"Errore in registrazione \" +\r\n              JSON.stringify(error.error.errors[0].msg)\r\n          );\r\n        }\r\n      );\r\n  }\r\n\r\n  async showCreateTeamModal() {\r\n    const modal = await this.modalController.create({\r\n      component: ModalRegistrationPage,\r\n      cssClass: \"small-modal\",\r\n      componentProps: {\r\n        textToShow:\r\n          \"Ti sei registrato con successo! Conferma la tua email per accedere al tuo account.\",\r\n      },\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  LoginPage() {\r\n    this.router.navigateByUrl(\"/login\");\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}